<section class="post_content">
  <h3>
    <span><%= @post.title %> by</span>
    <a href=<%= "/users/#{@user.id}" %>><%= @user.name %></a>
  </h3>

  <p class="content_counters">Comments: <%= @post.comments_counter %>, Likes: <%= @post.likes_counter %></p>

  <p><%= @post.text %></p>
</section>

<%= form_with model: @like, url: "/users/#{@user.id}/posts/#{@post.id}/likes" do |f|%>
  <%= hidden_field(:post, :id) %>
  <div>
    <%= f.submit "Add Like" %>
  </div>
<% end %>

<%= form_with model: @comment, url: "/users/#{@user.id}/posts/#{@post.id}/comments", scope: :comment do |f|%>
  <div>
    <%= f.label :text %><br>
    <%= text_area :comment, :text %>
  </div>

  <div>
    <%= f.submit "Add Comment" %>
  </div>
<% end %>

<section class="content_comments">
  <% @comments.each do |comment| %>
    <p>
      <span><%= comment['name'] %></span>:
      <span><%= comment['text'] %></span>
    </p>
  <% end %>
  <% if @comments.length == 0 %>
    <p>No comments yet</p>
  <% end %>
</section>
